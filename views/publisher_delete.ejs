<%- include('./layout.ejs') %>
<body>
  <main>
    <div class="delete-form-container">
      <h2 class="form-title">Delete Publisher</h2>
      <p class="form-description">
        Are you sure you want to delete this publisher:
        <strong><%= publisher.name %></strong>?
      </p>
      <% if (game_list.length > 0) { %>
      <p class="form-warning">
        Before deleting this publisher, first remove it from the following
        games:
      </p>
      <ul class="game-list">
        <% game_list.forEach(game => { %>
        <li><%= game.name %></li>
        <% }) %>
      </ul>
      <% } else { %>
      <form action="" method="POST">
        <input
          type="hidden"
          name="publisherId"
          value="<%= publisher ? publisher._id : '' %>"
        />
        <div class="form-group">
          <button type="submit" class="delete-button">Delete Publisher</button>
          <a href="/publishers" class="cancel-link">Cancel</a>
        </div>
      </form>
      <% } %>
    </div>
  </main>
</body>
