<%- include('./layout.ejs') %>
<body>
  <main>
    <div class="form-container">
      <h2><%= title %></h2>
      <% if (errors && errors.length > 0) { %>
      <div class="error-list">
        <ul>
          <% errors.forEach(error => { %>
          <li><%= error.msg %></li>
          <% }) %>
        </ul>
      </div>
      <% } %>
      <form action="" method="POST">
        <div class="form-group">
          <input
            type="hidden"
            name="publisherId"
            value="<%= publisher ? publisher._id : '' %>"
          />
          <label for="name">Name:</label>
          <input
            type="text"
            id="name"
            name="name"
            value="<%= publisher ? publisher.name : '' %>"
            required
          />
        </div>
        <div class="form-group">
          <label for="founded">Founded:</label>
          <input
            type="date"
            id="founded"
            name="founded"
            value="<%= publisher ? publisher.founded.toISOString().slice(0, 10) : '' %>"
            required
          />
        </div>
        <div class="form-group">
          <label for="num_employees">Number of Employees:</label>
          <input
            type="number"
            id="num_employees"
            name="num_employees"
            value="<%= publisher ? publisher.num_employees : '' %>"
            required
          />
        </div>
        <div class="form-group">
          <label for="img">Image URL:</label>
          <input
            type="text"
            id="img"
            name="img"
            value="<%= publisher ? publisher.img : '' %>"
          />
        </div>
        <div class="form-group">
          <button type="submit">Submit</button>
        </div>
      </form>
    </div>
  </main>
</body>
